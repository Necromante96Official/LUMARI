<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no,email=no,address=no">
  <title>Feed Acolhedor ‚Äî LUMARI</title>
  <meta name="description" content="Conte√∫dos emp√°ticos e acolhedores para momentos sens√≠veis.">
  <meta name="theme-color" content="#7c4dff">
  <link rel="icon" href="../logo/logo.jpg">
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    .feed-wrap{max-width:1200px;margin:0 auto}
    .feed-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
    .feed-logo{width:48px;height:48px;border-radius:12px;object-fit:cover;box-shadow:0 4px 16px rgba(124,77,255,0.25)}
    .feed-grid{display:grid;gap:20px;margin-top:24px}
    @media(min-width:800px){.feed-grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1200px){.feed-grid{grid-template-columns:repeat(3,1fr)}}
    
    .feed-card{
      background:linear-gradient(145deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.08);
      border-radius:16px;
      overflow:hidden;
      box-shadow:0 12px 48px rgba(0,0,0,0.7);
      transition:transform .3s ease,box-shadow .3s ease;
      position:relative;
    }
    .feed-card:hover{transform:translateY(-4px);box-shadow:0 20px 60px rgba(124,77,255,0.15)}
    
    .card-media{
      position:relative;
      height:180px;
      background:linear-gradient(135deg,#a8caba 0%,#5d4e75 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .card-media.video{background:linear-gradient(135deg,#74b9ff 0%,#0984e3 100%)}
    .card-media.text{background:linear-gradient(135deg,#fd79a8 0%,#fdcb6e 100%)}
    
    .play-button{
      width:60px;
      height:60px;
      background:rgba(255,255,255,0.9);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      color:#333;
      cursor:pointer;
      transition:transform .2s;
    }
    .play-button:hover{transform:scale(1.1)}
    
    .card-content{padding:16px}
    .card-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}
    .network-logo{width:24px;height:24px;border-radius:4px;object-fit:cover}
    .card-title{margin:0;font-size:16px;font-weight:600;color:#fff;line-height:1.3}
    .card-text{margin:8px 0 0;font-size:14px;color:var(--muted);line-height:1.4}
    .card-stats{display:flex;gap:12px;margin-top:12px;font-size:12px;color:var(--muted)}
    
    .filter-bar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin:16px 0;
      padding:12px;
      background:rgba(255,255,255,0.02);
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.05);
    }
    .filter-btn{
      padding:8px 16px;
      border-radius:8px;
      border:1px solid rgba(124,77,255,0.3);
      background:rgba(124,77,255,0.08);
      color:#fff;
      font-size:13px;
      cursor:pointer;
      transition:all .2s;
    }
    .filter-btn.active{
      background:rgba(124,77,255,0.2);
      border-color:rgba(124,77,255,0.5);
    }
    .back-moods{margin-top:10px;display:inline-flex;align-items:center;gap:6px;font-size:14px;color:var(--accent-2);text-decoration:none;padding:8px 12px;border-radius:8px;background:rgba(124,77,255,0.1);transition:background .2s}
    .back-moods:hover{background:rgba(124,77,255,0.15)}
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Pular para conte√∫do</a>
  <header class="topbar" role="banner" aria-label="Barra de navega√ß√£o">
    <div class="topbar-inner">
      <a href="../index.html" class="brand-mini" aria-label="LUMARI home">
        <img src="../logo/logo.jpg" alt="Logo LUMARI" class="logo-mini">
      </a>
      <nav class="nav" role="navigation" aria-label="Menu principal">
        <a href="about.html">Quem somos?</a>
        <a href="features.html">Funcionalidades</a>
        <a href="credits.html">Cr√©ditos</a>
      </nav>
    </div>
  </header>
  <button id="audioToggle" class="audio-toggle" aria-pressed="false" aria-label="Ativar som">üîä</button>
  <main id="main" class="container">
    <section class="intro feed-wrap">
      <div class="feed-header">
  <img src="../logo/logo.jpg" alt="Logo LUMARI" class="feed-logo">
        <div>
          <h1 style="margin:0;font-size:28px">üíú Feed Acolhedor</h1>
          <p style="color:var(--muted);margin:4px 0 0;font-size:14px">Conte√∫dos emp√°ticos para momentos sens√≠veis</p>
        </div>
      </div>
      <a class="back-moods" href="home-public.html?force=1">‚Üê Escolher outra emo√ß√£o</a>
      <div class="filter-bar" id="filterBar">
        <button class="filter-btn active" data-filter="all">Todos</button>
        <button class="filter-btn" data-filter="video">V√≠deos</button>
        <button class="filter-btn" data-filter="text">Posts</button>
      </div>
      <div class="feed-grid" id="feedList"></div>
    </section>
  </main>
  <script defer src="../js/main.js"></script>
  <script>
    (function(){
    const FEED = [
      // Coer√™ncia: v√≠deos likes ~5-9% views; replies ~8-15% likes; retweets/shares ~25-40% likes; grupos likes ~0.8-1.5% members.
      { 
        type:'video', 
        network: 'YouTube', 
        logo: '../logo/youtube-logo.jpg',
        title: '"Medita√ß√£o Guiada para Ansiedade - 10 min"', 
        text: 'Canal Mente Tranquila oferece t√©cnicas de respira√ß√£o para acalmar pensamentos acelerados.',
        author: '@MenteTransquila',
        duration: '10:23',
  views: '892K',
  likes: '58K' // ~6.5%
      },
      { 
        type:'text', 
        network: 'Instagram', 
        logo: '../logo/instagram-logo.jpg',
        title: 'Carrossel: "Frases que Validam Seus Sentimentos"', 
        text: 'Perfil @AutocuidadoBR compartilha mensagens acolhedoras para quem passa por momentos dif√≠ceis.',
        author: '@AutocuidadoBR',
  likes: '52K',
  comments: '4.9K', // ~9.4%
  shares: '16.6K' // ~32%
      },
      { 
        type:'video', 
        network: 'TikTok', 
        logo: '../logo/tiktok-logo.jpg',
        title: 'Compilation: Pets Sendo Therapeutic Angels', 
        text: 'V√≠deos de animais de estima√ß√£o oferecendo conforto em momentos de tristeza.',
        author: '@PetTherapy',
        duration: '1:15',
  views: '2.3M',
  likes: '149K' // ~6.5%
      },
      { 
        type:'text', 
        network: 'Twitter/X', 
        logo: '../logo/twitter-X-logo.jpg',
        title: 'Thread: "Como Superei Meu Momento Mais Dif√≠cil"', 
        text: 'Hist√≥ria pessoal de supera√ß√£o que est√° ajudando milhares de pessoas a encontrar esperan√ßa.',
        author: '@EsperancaReal',
  replies: '9.8K', // ~11%
  retweets: '32.7K', // ~37%
  likes: '88.5K'
      },
      { 
        type:'video', 
        network: 'Twitch', 
        logo: '../logo/twitch-logo.jpg',
        title: 'Live: Study With Me - Chuva e LoFi', 
        text: 'Stream 24/7 com sons relaxantes de chuva e m√∫sica calma para quem precisa de companhia.',
        author: '@StudyTogether',
  viewers: '6.2K',
        duration: '‚àû Live'
      },
      { 
        type:'text', 
        network: 'Facebook', 
        logo: '../logo/facebook-logo.jpg',
        title: 'Grupo: "Apoio Emocional - Escuta Ativa"', 
        text: 'Comunidade moderada onde pessoas compartilham experi√™ncias e recebem apoio genu√≠no.',
        author: 'Apoio Emocional BR',
        members: '145K',
        posts: '2.1K hoje',
        engagement: '94%'
      },
      {
        type:'video',
        network: 'YouTube',
        logo: '../logo/youtube-logo.jpg',
        title: 'Sons Calmos: Piano Minimal para Foco Emocional',
        text: 'Playlist curta com trilhas suaves usada em rotinas de estudo e journaling.',
        author: '@PianoGentil',
        duration: '14:08',
  views: '412K',
  likes: '26.7K' // ~6.4%
      },
      {
        type:'text',
        network: 'Instagram',
        logo: '../logo/instagram-logo.jpg',
        title: 'Carrossel: T√©cnicas de Respira√ß√£o Quadrada',
        text: 'Slides explicam passo a passo para baixar frequ√™ncia card√≠aca em momentos de tens√£o.',
        author: '@RespiraBem',
  likes: '31K',
  comments: '2.8K', // ~9%
  shares: '9.9K' // ~32%
      },
      {
        type:'video',
        network: 'TikTok',
        logo: '../logo/tiktok-logo.jpg',
        title: 'ASMR: Sons de Chuva em Varanda Noturna',
        text: 'Sequ√™ncia relaxante usada por comunidades de sono leve.',
        author: '@CalmaNoite',
        duration: '0:59',
  views: '1.4M',
  likes: '91K' // ~6.5%
      },
      {
        type:'text',
        network: 'Twitter/X',
        logo: '../logo/twitter-X-logo.jpg',
        title: 'Thread: Maneiras de Pedir Ajuda Sem Medo',
        text: 'Profissional de psicologia social lista frases neutras para abrir conversa de apoio.',
        author: '@DialogoSeguro',
  replies: '3.4K', // ~10%
  retweets: '12.3K', // ~36%
  likes: '34K'
      },
      {
        type:'video',
        network: 'Twitch',
        logo: '../logo/twitch-logo.jpg',
        title: 'Live de Estudo Silencioso + Sons de Biblioteca',
        text: 'Ambiente virtual de companhia para quem estuda sozinho, com intervalos guiados de pausa consciente.',
        author: '@FocusCalmo',
  viewers: '2.1K',
        duration: 'AO VIVO'
      },
      {
        type:'text',
        network: 'Facebook',
        logo: '../logo/facebook-logo.jpg',
        title: 'Post: Roda de Conversa Virtual Gratuita',
        text: 'Facilitadores volunt√°rios abrem espa√ßo seguro semanal para partilha emocional.',
        author: 'Rede de Acolhimento',
  members: '62K',
  likes: '620', // ~1%
  shares: '210' // ~34%
      }
    ];
    let currentFilter = 'all';
    function render(){
      const wrap = document.getElementById('feedList');
      if(!wrap) return;
      const filtered = FEED.filter(i=> currentFilter==='all' || i.type===currentFilter);
      wrap.innerHTML = filtered.map(item => {
        const isVideo = item.type === 'video';
        const fm = (v)=> (window.formatMetric ? window.formatMetric(v) : v);
        const stats = isVideo 
          ? `<span>üëÅÔ∏è ${fm(item.views || item.viewers)}</span><span>‚ù§Ô∏è ${fm(item.likes)}</span><span>‚è±Ô∏è ${item.duration}</span>`
          : `<span>üí¨ ${fm(item.comments || item.posts)}</span><span>üîÑ ${fm(item.shares || item.members)}</span><span>‚ù§Ô∏è ${fm(item.likes || item.engagement)}</span>`;
        
        return `
          <article class="feed-card" data-type="${item.type}">
            <div class="card-media ${item.type}">
              ${isVideo ? '<div class="play-button">‚ñ∂</div>' : '<div style="font-size:48px;color:rgba(255,255,255,0.8)">üíù</div>'}
            </div>
            <div class="card-content">
              <div class="card-header">
                <img src="${item.logo}" alt="${item.network}" class="network-logo" loading="lazy" data-fallback-logo>
                <span style="font-size:12px;color:var(--muted)">${item.network}</span>
              </div>
              <h3 class="card-title">${item.title}</h3>
              <p class="card-text">${item.text}</p>
              <div style="font-size:12px;color:var(--accent-2);margin-top:8px">${item.author}</div>
              <div class="card-stats">${stats}</div>
            </div>
          </article>`;
      }).join('');
    }
    function initFeed(){
      render();
      document.querySelectorAll('img[data-fallback-logo]').forEach(img=>{
        if(img.dataset.fallbackBound) return; img.dataset.fallbackBound='1';
        img.addEventListener('error', ()=>{ img.classList.add('img-fallback'); });
      });
      const buttons = document.querySelectorAll('.filter-btn');
      buttons.forEach(btn=>{
        if(btn.dataset.feedInited) return;
        btn.dataset.feedInited='1';
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.filter-btn').forEach(b=> b.classList.remove('active'));
          btn.classList.add('active');
          currentFilter = btn.dataset.filter;
          render();
        });
      });
    }
    if(document.readyState==='loading'){
      document.addEventListener('DOMContentLoaded', initFeed, {once:true});
    } else { initFeed(); }
    })();
  </script>
</body>
</html>
