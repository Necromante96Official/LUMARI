<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no,email=no,address=no">
  <title>Feed Misto ‚Äî LUMARI</title>
  <meta name="description" content="Feed misto com variedade equilibrada de conte√∫dos conforme seu humor.">
  <meta name="theme-color" content="#7c4dff">
  <link rel="icon" href="../logo/logo.jpg">
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    .feed-wrap{max-width:1200px;margin:0 auto}
    .feed-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
    .feed-logo{width:48px;height:48px;border-radius:12px;object-fit:cover;box-shadow:0 4px 16px rgba(124,77,255,0.25)}
    .feed-grid{display:grid;gap:20px;margin-top:24px}
    @media(min-width:800px){.feed-grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1200px){.feed-grid{grid-template-columns:repeat(3,1fr)}}
    
    .feed-card{
      background:linear-gradient(145deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.08);
      border-radius:16px;
      overflow:hidden;
      box-shadow:0 12px 48px rgba(0,0,0,0.7);
      transition:transform .3s ease,box-shadow .3s ease;
      position:relative;
    }
    .feed-card:hover{transform:translateY(-4px);box-shadow:0 20px 60px rgba(124,77,255,0.15)}
    
    .card-media{
      position:relative;
      height:180px;
      background:linear-gradient(135deg,#6c5ce7 0%,#a29bfe 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .card-media.video{background:linear-gradient(135deg,#00b894 0%,#00cec9 100%)}
    .card-media.text{background:linear-gradient(135deg,#e17055 0%,#f39c12 100%)}
    
    .play-button{
      width:60px;
      height:60px;
      background:rgba(255,255,255,0.9);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      color:#333;
      cursor:pointer;
      transition:transform .2s;
    }
    .play-button:hover{transform:scale(1.1)}
    
    .card-content{padding:16px}
    .card-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}
    .network-logo{width:24px;height:24px;border-radius:4px;object-fit:cover}
    .card-title{margin:0;font-size:16px;font-weight:600;color:#fff;line-height:1.3}
    .card-text{margin:8px 0 0;font-size:14px;color:var(--muted);line-height:1.4}
    .card-stats{display:flex;gap:12px;margin-top:12px;font-size:12px;color:var(--muted)}
    
    .filter-bar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin:16px 0;
      padding:12px;
      background:rgba(255,255,255,0.02);
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.05);
    }
    .filter-btn{
      padding:8px 16px;
      border-radius:8px;
      border:1px solid rgba(124,77,255,0.3);
      background:rgba(124,77,255,0.08);
      color:#fff;
      font-size:13px;
      cursor:pointer;
      transition:all .2s;
    }
    .filter-btn.active{
      background:rgba(124,77,255,0.2);
      border-color:rgba(124,77,255,0.5);
    }
    .back-moods{margin-top:10px;display:inline-flex;align-items:center;gap:6px;font-size:14px;color:var(--accent-2);text-decoration:none;padding:8px 12px;border-radius:8px;background:rgba(124,77,255,0.1);transition:background .2s}
    .back-moods:hover{background:rgba(124,77,255,0.15)}
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Pular para conte√∫do</a>
  <header class="topbar" role="banner" aria-label="Barra de navega√ß√£o">
    <div class="topbar-inner">
      <a href="../index.html" class="brand-mini" aria-label="LUMARI home">
        <img src="../logo/logo.jpg" alt="Logo LUMARI" class="logo-mini">
      </a>
      <nav class="nav" role="navigation" aria-label="Menu principal">
        <a href="about.html">Quem somos?</a>
        <a href="features.html">Funcionalidades</a>
        <a href="credits.html">Cr√©ditos</a>
      </nav>
    </div>
  </header>
  <button id="audioToggle" class="audio-toggle" aria-pressed="false" aria-label="Ativar som">üîä</button>
  <main id="main" class="container">
    <section class="intro feed-wrap">
      <div class="feed-header">
  <img src="../logo/logo.jpg" alt="Logo LUMARI" class="feed-logo">
        <div>
          <h1 style="margin:0;font-size:28px">üåÄ Feed Misto</h1>
          <p style="color:var(--muted);margin:4px 0 0;font-size:14px">Explora√ß√£o equilibrada de diferentes conte√∫dos</p>
        </div>
      </div>
      <a class="back-moods" href="home-public.html?force=1">‚Üê Escolher outra emo√ß√£o</a>
      <div class="filter-bar" id="filterBar">
        <button class="filter-btn active" data-filter="all">Todos</button>
        <button class="filter-btn" data-filter="video">V√≠deos</button>
        <button class="filter-btn" data-filter="text">Posts</button>
      </div>
      <div class="feed-grid" id="feedList"></div>
    </section>
  </main>
  <script defer src="../js/main.js"></script>
  <script>
    (function(){
    const FEED = [
      // Coer√™ncia: likes v√≠deos ~5-9% views; replies ~8-15% likes; retweets/shares ~25-40% likes.
      { 
        type:'video', 
        network: 'YouTube', 
        logo: '../logo/youtube-logo.jpg',
        title: '"A Revolu√ß√£o da IA em 2024 - Mini Doc"', 
        text: 'Canal TechBrasil explora impactos da intelig√™ncia artificial na sociedade moderna em 15 minutos.',
        author: '@TechBrasil',
        duration: '15:32',
  views: '1.2M',
  likes: '72K' // 6%
      },
      { 
        type:'text', 
        network: 'Instagram', 
        logo: '../logo/instagram-logo.jpg',
        title: 'Carrossel: "5 H√°bitos que Mudaram Minha Rotina"', 
        text: 'Perfil @VidaEquilibrada mistura storytelling pessoal com dicas pr√°ticas de produtividade.',
        author: '@VidaEquilibrada',
  likes: '64K', // ajuste p/ propor√ß√£o realista
  comments: '5.4K', // ~8.4% likes
  shares: '18.5K' // ~29% likes
      },
      { 
        type:'video', 
        network: 'TikTok', 
        logo: '../logo/tiktok-logo.jpg',
        title: 'Review R√°pido: iPhone vs Android 2024', 
        text: 'Creator @TechReview faz compara√ß√£o objetiva em 60 segundos que est√° bombando.',
        author: '@TechReview',
        duration: '1:02',
  views: '4.1M',
  likes: '287K' // ~7%
      },
      { 
        type:'text', 
        network: 'Twitter/X', 
        logo: '../logo/twitter-X-logo.jpg',
        title: 'Thread: "Como Funciona o Algoritmo do YouTube"', 
        text: 'Desenvolvedor explica de forma did√°tica os segredos por tr√°s das recomenda√ß√µes.',
        author: '@DevExplica',
  replies: '6.4K', // ~10% likes
  retweets: '30.5K', // ~45% likes (alto engajamento)
  likes: '67.8K'
      },
      { 
        type:'video', 
        network: 'Twitch', 
        logo: '../logo/twitch-logo.jpg',
        title: 'Live: Perguntas & Respostas sobre Carreira Tech', 
        text: 'Streamer @CarreiraDev responde d√∫vidas da comunidade sobre programa√ß√£o e mercado.',
        author: '@CarreiraDev',
  viewers: '4.4K', // live m√©dia
        duration: '2:15:30'
      },
      { 
        type:'text', 
        network: 'Facebook', 
        logo: '../logo/facebook-logo.jpg',
        title: 'Grupo: "Tend√™ncias Digitais Brasil 2024"', 
        text: 'Discuss√£o sobre o futuro das redes sociais e comportamento digital no Brasil.',
        author: 'Tend√™ncias Digitais',
        members: '87K',
        posts: '156 hoje',
        engagement: '78%'
      },
      {
        type:'video',
        network: 'YouTube',
        logo: '../logo/youtube-logo.jpg',
        title: 'Case Study: Crescimento Org√¢nico em 90 Dias',
        text: 'Canal GrowthLab apresenta t√°ticas de reten√ß√£o e storytelling aplicadas em canal emergente.',
        author: '@GrowthLab',
        duration: '11:04',
  views: '654K',
  likes: '45.7K' // ~7%
      },
      {
        type:'text',
        network: 'Instagram',
        logo: '../logo/instagram-logo.jpg',
        title: 'Nota Visual: Paleta de Outono Minimalista',
        text: 'Designer compartilha estudo de cores quentes e neutras para marcas artesanais.',
        author: '@StudioCores',
  likes: '38K',
  comments: '3.4K', // ~9% likes
  shares: '11.4K' // ~30% likes
      },
      {
        type:'video',
        network: 'TikTok',
        logo: '../logo/tiktok-logo.jpg',
        title: 'Time-lapse: Setup de Escrit√≥rio Ergonomicamente Otimizado',
        text: 'Cria√ß√£o acelerada de workspace modular para produtividade e conforto.',
        author: '@DeskFlow',
        duration: '0:49',
  views: '1.9M',
  likes: '133K' // ~7%
      },
      {
        type:'text',
        network: 'Twitter/X',
        logo: '../logo/twitter-X-logo.jpg',
        title: 'Thread: M√©tricas que Importam (e as que n√£o importam mais)',
        text: 'Analista de dados explica mudan√ßa de foco de views brutas para profundidade de engajamento.',
        author: '@DataNarrativa',
  replies: '2.3K', // ~9%
  retweets: '9.4K', // ~37%
  likes: '25.2K'
      },
      {
        type:'video',
        network: 'Twitch',
        logo: '../logo/twitch-logo.jpg',
        title: 'Live Colaborativa: Construindo App em 1 Noite',
        text: 'Equipe de devs pair programming enquanto chat decide features priorit√°rias.',
        author: '@DevNoite',
  viewers: '2.2K',
        duration: 'AO VIVO'
      },
      {
        type:'text',
        network: 'Facebook',
        logo: '../logo/facebook-logo.jpg',
        title: 'Post: Comunidade supera meta de reutiliza√ß√£o de eletr√¥nicos',
        text: 'Campanha de reciclagem inteligente ultrapassa 15 mil dispositivos reaproveitados.',
        author: 'EcoDigital BR',
  members: '56K',
  likes: '620', // ~1.1%
  shares: '210' // ~34%
      }
    ];
    let currentFilter = 'all';
    function render(){
      const wrap = document.getElementById('feedList');
      if(!wrap) return;
      const filtered = FEED.filter(i=> currentFilter==='all' || i.type===currentFilter);
      wrap.innerHTML = filtered.map(item => {
        const isVideo = item.type === 'video';
        const fm = (v)=> (window.formatMetric ? window.formatMetric(v) : v);
        const stats = isVideo 
          ? `<span>üëÅÔ∏è ${fm(item.views || item.viewers)}</span><span>‚ù§Ô∏è ${fm(item.likes)}</span><span>‚è±Ô∏è ${item.duration}</span>`
          : `<span>üí¨ ${fm(item.comments || item.posts)}</span><span>üîÑ ${fm(item.shares || item.members)}</span><span>‚ù§Ô∏è ${fm(item.likes || item.engagement)}</span>`;
        
        return `
          <article class="feed-card" data-type="${item.type}">
            <div class="card-media ${item.type}">
              ${isVideo ? '<div class="play-button">‚ñ∂</div>' : '<div style="font-size:48px;color:rgba(255,255,255,0.8)">üìä</div>'}
            </div>
            <div class="card-content">
              <div class="card-header">
                <img src="${item.logo}" alt="${item.network}" class="network-logo" loading="lazy" data-fallback-logo>
                <span style="font-size:12px;color:var(--muted)">${item.network}</span>
              </div>
              <h3 class="card-title">${item.title}</h3>
              <p class="card-text">${item.text}</p>
              <div style="font-size:12px;color:var(--accent-2);margin-top:8px">${item.author}</div>
              <div class="card-stats">${stats}</div>
            </div>
          </article>`;
      }).join('');
    }
    function initFeed(){
      render();
      document.querySelectorAll('img[data-fallback-logo]').forEach(img=>{
        if(img.dataset.fallbackBound) return; img.dataset.fallbackBound='1';
        img.addEventListener('error', ()=>{ img.classList.add('img-fallback'); });
      });
      const buttons = document.querySelectorAll('.filter-btn');
      buttons.forEach(btn=>{
        if(btn.dataset.feedInited) return;
        btn.dataset.feedInited='1';
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.filter-btn').forEach(b=> b.classList.remove('active'));
          btn.classList.add('active');
          currentFilter = btn.dataset.filter;
          render();
        });
      });
    }
    if(document.readyState==='loading'){
      document.addEventListener('DOMContentLoaded', initFeed, {once:true});
    } else { initFeed(); }
    })();
  </script>
</body>
</html>
